/**
 * FFC Admin Submission Edit Styles
 *
 * Styles for the submission edit page in admin
 *
 * @since 3.1.0
 */

/* Section headers */
.ffc-section-header {
    margin: 20px 0 10px 0;
    padding: 10px;
    background: var(--ffc-bg-alt);
    border-left: 4px solid var(--ffc-primary);
}

/* QR Code info box */
.ffc-qr-info-box {
    margin: 20px 0;
    padding: 15px;
    background: var(--ffc-info-bg);
    border-left: 4px solid var(--ffc-info-border);
    border-radius: 4px;
}

.ffc-qr-info-box h3 {
    margin: 0 0 10px 0;
}

.ffc-qr-info-box p {
    margin: 0 0 10px 0;
}

.ffc-qr-info-box table {
    width: 100%;
    font-family: monospace;
    font-size: 12px;
    border-collapse: collapse;
}

.ffc-qr-info-box td {
    padding: 5px;
}

.ffc-qr-info-box td:first-child {
    background: var(--ffc-bg-card);
    border: 1px solid var(--ffc-border-light);
}

.ffc-qr-info-box .ffc-qr-note {
    margin: 10px 0 0 0;
    font-size: 12px;
    color: var(--ffc-text-muted);
}

/* LGPD consent box */
.ffc-consent-box {
    margin: 20px 0;
    padding: 15px;
    border-left: 4px solid;
    border-radius: 4px;
}

.ffc-consent-box.consent-given {
    background: var(--ffc-success-bg);
    border-color: var(--ffc-success-border);
}

.ffc-consent-box.consent-not-given {
    background: var(--ffc-warning-bg);
    border-color: var(--ffc-warning-border);
}

.ffc-consent-box h3 {
    margin: 0 0 10px 0;
}

.ffc-consent-box p {
    margin: 0;
}

.ffc-consent-box.consent-given p {
    color: var(--ffc-success-text);
}

.ffc-consent-box.consent-not-given p {
    color: var(--ffc-warning-text);
}

/* Table spacing fix */
.ffc-edit-table td[colspan="2"] {
    padding: 0;
}

/* User link section */
.ffc-user-link-container {
    padding: 10px 0;
}

.ffc-current-user {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    background: var(--ffc-info-bg);
    border-left: 4px solid var(--ffc-primary);
    border-radius: 4px;
}

.ffc-user-info {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1;
}

.ffc-user-info img {
    border-radius: 50%;
}

.ffc-user-email {
    color: var(--ffc-text-muted);
    font-size: 12px;
}

.ffc-user-id {
    color: var(--ffc-text-light);
    font-size: 11px;
    margin-left: 5px;
}

.ffc-no-user {
    margin: 0 0 10px 0;
    color: var(--ffc-text-muted);
}

/* Linked user display */
.ffc-linked-user-display .ffc-current-user {
    margin-bottom: 10px;
}

.ffc-unlink-action {
    margin-top: 10px;
}

.ffc-unlink-user-btn {
    color: var(--ffc-danger);
    border-color: var(--ffc-danger);
}

.ffc-unlink-user-btn:hover {
    background: var(--ffc-danger);
    color: var(--ffc-text-on-primary);
    border-color: var(--ffc-danger);
}

/* User search section */
.ffc-user-search-form {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
}

.ffc-user-search-form .spinner {
    float: none;
    margin: 0;
}

.ffc-user-search-form .spinner.is-active {
    visibility: visible;
}

.ffc-user-search-results {
    margin: 10px 0;
    border: 1px solid var(--ffc-border-light);
    border-radius: 4px;
    max-height: 200px;
    overflow-y: auto;
}

.ffc-user-search-results .ffc-search-result-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    cursor: pointer;
    border-bottom: 1px solid var(--ffc-border-light);
    transition: background-color 0.15s;
}

.ffc-user-search-results .ffc-search-result-item:last-child {
    border-bottom: none;
}

.ffc-user-search-results .ffc-search-result-item:hover {
    background: var(--ffc-primary-light);
}

.ffc-user-search-results .ffc-search-result-item img {
    border-radius: 50%;
    flex-shrink: 0;
}

.ffc-user-search-results .ffc-search-result-info {
    flex: 1;
}

.ffc-user-search-results .ffc-search-result-name {
    font-weight: 600;
}

.ffc-user-search-results .ffc-search-result-email {
    color: var(--ffc-text-muted);
    font-size: 12px;
}

.ffc-user-search-results .ffc-search-result-id {
    color: var(--ffc-text-light);
    font-size: 11px;
}

.ffc-user-search-results .ffc-no-results {
    padding: 15px;
    text-align: center;
    color: var(--ffc-text-muted);
}

/* Selected user preview */
.ffc-selected-user-preview {
    margin: 10px 0;
    padding: 10px;
    background: var(--ffc-success-bg);
    border-left: 4px solid var(--ffc-success-border);
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.ffc-selected-user-preview img {
    border-radius: 50%;
}

.ffc-selected-user-preview .ffc-selected-info {
    flex: 1;
}

.ffc-selected-user-preview .ffc-clear-selection {
    color: var(--ffc-danger);
    cursor: pointer;
    text-decoration: underline;
}

/* Collapsible consent section */
.ffc-consent-box.ffc-collapsible {
    cursor: default;
}

.ffc-consent-header {
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 0;
    user-select: none;
}

.ffc-consent-header:hover {
    opacity: 0.8;
}

.ffc-consent-header:focus {
    outline: 2px solid var(--ffc-primary);
    outline-offset: 2px;
}

.ffc-consent-toggle-icon {
    display: inline-block;
    transition: transform 0.2s;
    font-size: 10px;
}

.ffc-consent-box.ffc-collapsible.is-open .ffc-consent-toggle-icon {
    transform: rotate(90deg);
}

.ffc-consent-summary {
    font-weight: normal;
    font-size: 13px;
    color: var(--ffc-text-muted);
}

.ffc-consent-details {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
}

/* ==========================================================================
   REDUCED MOTION
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
    .ffc-user-search-results .ffc-search-result-item {
        transition: none;
    }

    .ffc-consent-toggle-icon {
        transition: none;
    }
}
